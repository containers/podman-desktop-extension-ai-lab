{
  "root": true,
  "env": {
    "es2021": true,
    "node": true,
    "browser": false
  },
  "extends": [
    "eslint:recommended",
    /** @see https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin#recommended-configs */
    "plugin:@typescript-eslint/recommended",
    "plugin:import/recommended",
    "plugin:import/typescript",
    "plugin:etc/recommended",
    "plugin:sonarjs/recommended-legacy"
  ],
  "overrides": [
    {
      "files": ["*.svelte"],
      "parser": "svelte-eslint-parser",
      "parserOptions": {
        "parser": "@typescript-eslint/parser"
      },
      "rules": {
        "eqeqeq": "off",
        "etc/no-implicit-any-catch": "off",
        "no-inner-declarations": "off",
        "sonarjs/code-eval": "off",
        "sonarjs/different-types-comparison": "off",
        "sonarjs/prefer-nullish-coalescing": "off",
        "sonarjs/no-unused-expressions": "off",
        "sonarjs/no-nested-template-literals": "off",
        "sonarjs/no-nested-conditional": "off",
        "@typescript-eslint/no-unused-vars": "off",
        "@typescript-eslint/ban-types": "off"
      }
    }
  ],
  "parser": "@typescript-eslint/parser",
  "parserOptions": {
    "ecmaVersion": 12,
    "sourceType": "module",
    "extraFileExtensions": [".svelte"],
    "project": [
      "packages/*/tsconfig.json",
      "tests/*/tsconfig.json"
    ]
  },
  "settings": {
    "import/resolver": {
      "typescript": true,
      "node": true,
      "eslint-import-resolver-custom-alias": {
        "alias": {
          "/@": "./src",
          "/@gen": "./src-generated"
        },
        "extensions": [".ts"],
        "packages": ["packages/*"]
      }
    }
  },
  "ignorePatterns": [
    "node_modules/**",
    "**/dist/**"
  ],
  "plugins": ["@typescript-eslint", "sonarjs", "etc", "redundant-undefined", "no-null", "import"],
  "rules": {
    "eqeqeq": "error",
    "@typescript-eslint/no-unused-vars": ["error", { "argsIgnorePattern": "^_" }],
    "@typescript-eslint/no-var-requires": "off",
    "@typescript-eslint/consistent-type-imports": "error",
    "@typescript-eslint/no-explicit-any": "error",
    "prefer-promise-reject-errors": "error",
    "@typescript-eslint/await-thenable": "error",
    "@typescript-eslint/no-floating-promises": "error",
    "@typescript-eslint/no-misused-promises": "error",
    "@typescript-eslint/prefer-optional-chain": "error",
    "no-null/no-null": "error",
    "sonarjs/no-empty-function": "off",
    "sonarjs/deprecation": "off",
    "sonarjs/todo-tag": "off",

  /**
   * Having a semicolon helps the optimizer interpret your code correctly.
   * This avoids rare errors in optimized code.
   * @see https://twitter.com/alex_kozack/status/1364210394328408066
   */
    "semi": [
      "error",
      "always"
    ],
    /**
     * This will make the history of changes in the hit a little cleaner
     */
    "comma-dangle": [
      "warn",
      "always-multiline"
    ],
    /**
     * Just for beauty
     */
    "quotes": ["error", "single", { "allowTemplateLiterals": true }],
    "import/no-duplicates": "error",
    "import/no-unresolved": "off",
    "import/default": "off",
    "import/no-named-as-default-member": "off",
    "import/no-named-as-default": "off",
    "sonarjs/cognitive-complexity": "off",
    "sonarjs/no-duplicate-string": "off",
    "sonarjs/no-empty-collection": "off",
    "sonarjs/no-small-switch": "off",
    "etc/no-commented-out-code": "error",
    "etc/no-deprecated": "off",
    "redundant-undefined/redundant-undefined": "error",
    "import/no-extraneous-dependencies": "error",
    "import/no-restricted-paths": ["error", {
      "zones": [{
        "target": "./packages/backend/**/*",
        "from": ["./packages/frontend/**/*"]
      },
        {
          "target": "./packages/frontend/**/*",
          "from": ["./packages/backend/**/*"]
        }]
    }]
  }
}
